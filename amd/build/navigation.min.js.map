{"version":3,"file":"navigation.min.js","sources":["../src/navigation.js"],"sourcesContent":["define(['jquery', 'jqueryui'], function($) {\n    /* eslint no-console: [\"error\", { allow: [\"log\", \"warn\", \"error\"] }] */\n    return {\n        init: function() {\n            var showDetails = function() {\n                $('.details-btn').on('click', function() {\n                    var displayName = $(this).parent().parent().find('.displayname').html();\n                    var installPath = $(this).parent().parent().find('.rootdir').html();\n                    var version = $(this).parent().parent().find('.versiondb').html();\n                    var release = $(this).parent().parent().find('.release').html();\n                    var uses = $(this).parent().parent().find('.uses').html();\n                    var frankenstyle = $(this).parent().parent().find('.frankenstyle').html();\n                    console.log('==> clicking displayname ' + displayName);\n                    console.log('installPath: ' + installPath);\n\n                    $.ajax({\n                        url: \"ajax/plugin_details.php\",\n                        type: \"POST\",\n                        data: {\n                            'displayname': displayName,\n                            'installpath': installPath,\n                            'version': version,\n                            'release': release,\n                            'uses': uses,\n                            'frankenstyle': frankenstyle,\n                            'sesskey': M.cfg.sesskey\n                        },\n                        success: function(result) {\n                            $('#details-content').html(result);\n                            $('#details-area').show();\n                            $('#grauschleier').show();\n//                            $('.plugins').hide();\n                        }\n                    });\n\n                });\n            };\n\n            var closeArea = function() {\n                $('.close-area-btn').on('click', function() {\n                    $('#details-area').hide();\n                    $('#courses-area').hide();\n                    $('#grauschleier').hide();\n//                    $('.plugins').show();\n                });\n            };\n\n            var toggleCore = function() {\n                $(\"#toggle-core\").on('click', function() {\n                    if ($(this).hasClass('hide-core')) {\n                        $('.std').hide();\n                        $(this).addClass('show-core');\n                        $(this).removeClass('hide-core');\n                        $(this).html('Show Core');\n                    } else {\n                        $('.std').show();\n                        $(this).addClass('hide-core');\n                        $(this).removeClass('show-core');\n                        $(this).html('Hide Core');\n                    }\n                    $('.toggler-closed').addClass('click-again').click();\n//                    $('.click-again').removeClass('click-again').click();\n                });\n            };\n/*\n            var toggleDescriptions = function() {\n                $(\"#toggle-descriptions\").on('click', function() {\n                    if ($(this).hasClass('hide-descriptions')) {\n                        $('.description').hide();\n                        $(this).addClass('show-descriptions');\n                        $(this).removeClass('hide-descriptions');\n                        $(this).html('Show Descriptions');\n                    } else {\n                        $('.description').show();\n                        $(this).addClass('hide-descriptions');\n                        $(this).removeClass('show-descriptions');\n                        $(this).html('Hide Descriptions');\n                    }\n                    $('.toggler-closed').addClass('click-again').click();\n//                    $('.click-again').removeClass('click-again').click();\n                });\n            };\n*/\n            var showCourses = function() {\n                $('.courses-btn').on('click', function() {\n                    var displayname = $(this).parent().parent().find('.displayname').html();\n                    var pluginname = $(this).parent().parent().attr('pluginname');\n                    var plugintype = $(this).parent().parent().attr('type');\n                    console.log('pluginname: ' + pluginname);\n                    console.log('plugintype: ' + plugintype);\n                    var waitingtext = 'Please wait while retrieving Course data...!';\n                    $('#waiting-text').html(waitingtext);\n                    $('#grauschleier').show();\n                    $('#waiting-box').show();\n                    $.ajax({\n                        url: \"ajax/list_admins.php\",\n                        type: \"POST\",\n                        data: {\n                            'displayname': displayname,\n                            'pluginname': pluginname,\n                            'plugintype': plugintype,\n                            'sesskey': M.cfg.sesskey\n                        },\n                        success: function(result) {\n                            $('#courses-content').html(result);\n                            $('#waiting-box').hide();\n                            $('#courses-area').show();\n                            $('#grauschleier').show();\n                        }\n                    });\n\n                });\n            };\n\n            var toggleAdmins = function() {\n                $(\"#toggle-admins\").on('click', function() {\n                    if ($(this).hasClass('hide-admins')) {\n                        $('.admins-col').hide();\n                        $(this).addClass('show-admins');\n                        $(this).removeClass('hide-admins');\n                        $(this).html('Show Admins');\n                    } else {\n                        $('.admins-col').show();\n                        $(this).addClass('hide-admins');\n                        $(this).removeClass('show-admins');\n                        $(this).html('Hide Admins');\n                    }\n                });\n            };\n\n            var toggleType = function() {\n                $(\".toggle-type.toggler-open\").on('click', function(event) {\n                    if (event.altKey) {\n                        $('.toggler-open').click();\n                    } else {\n                        var type = $(this).attr('type');\n                        $(\"tr.\" + type).hide();\n                        $(this).hide().parent().find('.toggler-closed').show();\n                    }\n                });\n                $(\".toggle-type.toggler-closed\").on('click', function(event) {\n                    if (event.altKey) {\n                        $('.toggler-closed').click();\n                    } else {\n                        var type = $(this).attr('type');\n                        $(\"tr.\" + type).show();\n                        if ($('#toggle-core').hasClass('show-core')) {\n                            $(\"tr.\" + type + \".std\").hide();\n                        }\n                        $(this).hide().parent().find('.toggler-open').show();\n                    }\n                });\n            };\n\n            var importExcel = function() {\n                $(\"#import-excel-btn\").on('click', function() {\n                    console.log('Now importing Excel data - please be patient...');\n                    $('#import-excel').show();\n                    $('.plugins').hide();\n                });\n\n                $('#import-btn').on('click', function() {\n                    var waitingtext = 'Please wait while importing Excel data.';\n                    $('#waiting-text').html(waitingtext);\n                    $('#grauschleier').show();\n                    $('#waiting-box').show();\n                });\n            };\n\n            var cancelImport = function() {\n                $('#cancel-import-btn').on('click', function() {\n                    console.log('cancelling import...!');\n                    $('#import-excel').hide();\n                    $('.plugins').show();\n                });\n            };\n\n            var getPlugins = function() {\n\n                $('#get_plugin_details').on('click', function() {\n                    console.log('===> now getting plugins');\n                    $('#waiting-box').show();\n                    $('#result').html('');\n                    $.ajax({\n                        url: \"ajax/get_plugin_details.php\",\n                        type: \"POST\",\n                        data: {\n                            'sesskey': M.cfg.sesskey\n                        },\n                        success: function(result) {\n                            $('#waiting-box').hide();\n                            $('#result').html(result);\n                            console.log(result);\n                        }\n                    });\n\n                });\n            };\n\n\n            /**\n             * Initialize all functions\n             */\n            var initFunctions = function() {\n                showDetails();\n                closeArea();\n                toggleCore();\n//                toggleDescriptions();\n                showCourses();\n                toggleAdmins();\n                toggleType();\n                importExcel();\n                cancelImport();\n                getPlugins();\n            };\n\n            /**\n             * The document is ready\n             */\n            $(document).ready(function() {\n                console.log('=================< reports_plugins/navigation.js >=================');\n                initFunctions();\n                $('#import-excel').hide();\n                $('#toggle-core').click();\n//                $('.description').hide();\n                $('.toggler-open').each(function() {\n                   $(this).click();\n                });\n            });\n        }\n    };\n});\n"],"names":["define","$","init","initFunctions","on","displayName","this","parent","find","html","installPath","version","release","uses","frankenstyle","console","log","ajax","url","type","data","M","cfg","sesskey","success","result","show","hide","hasClass","addClass","removeClass","click","displayname","pluginname","attr","plugintype","event","altKey","document","ready","each"],"mappings":"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"}